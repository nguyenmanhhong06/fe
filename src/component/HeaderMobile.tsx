import React, { useEffect, useRef, useState } from 'react'
import logo from '../assets/logo.png'
import logo2 from '../assets/logo-2.png'
import Plane from './Mobile/Plane'
import Hotel from './Mobile/Hotel'
import Transportation from './Mobile/Transportation'
import Car from './Mobile/Car'
import Location from './Mobile/Location'
import { useNavigate } from 'react-router-dom'
type ChooseType = 'hotel' | 'car' | 'location' | 'transportation' | 'plane' | ''
type Props = {
  children: React.ReactNode
  color: string
  des: string
  status?: ChooseType
  setChoose?: React.Dispatch<React.SetStateAction<ChooseType>>
}
function Item({ children, color, des, setChoose, status }: Props) {
  return (
    <div
      className='flex flex-col'
      onClick={() => {
        setChoose && status && setChoose(status)
      }}
    >
      <div className={`p-2 bg-[${color}] inline-block rounded-full grow-0`}>{children}</div>
      <p className='text-[#031246] text-xs font-semibold'>{des}</p>
    </div>
  )
}
function HeaderMobile() {
  const [choose, setChoose] = useState<ChooseType>('')
  const navigate = useNavigate()

  return (
    <>
      {choose === '' && (
        <div className='sm:hidden flex p-4 gap-4 flex-wrap'>
          <Item
            setChoose={setChoose}
            status='plane'
            des='Chuyến bay'
            color='#30c5f7'
            children={
              <svg
                width='24'
                height='24'
                viewBox='0 0 24 24'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
                data-id='IcProductDuotoneFlightFill'
              >
                <path
                  d='M8.79289 4.20711L7 6L9 8L10.7929 6.20711C11.1834 5.81658 11.1834 5.18342 10.7929 4.79289L10.2071 4.20711C9.81658 3.81658 9.18342 3.81658 8.79289 4.20711Z'
                  fill='#FFFFFF'
                ></path>
                <path
                  d='M17.7929 13.2071L16 15L18 17L19.7929 15.2071C20.1834 14.8166 20.1834 14.1834 19.7929 13.7929L19.2071 13.2071C18.8166 12.8166 18.1834 12.8166 17.7929 13.2071Z'
                  fill='#FFFFFF'
                ></path>
                <path
                  d='M14 7L2.82279 3.27426C2.35068 3.11689 1.83469 3.33062 1.61213 3.77573L1.39479 4.21042C1.16925 4.6615 1.3149 5.20993 1.73452 5.48968L10 11L13 14L18.5103 22.2655C18.7901 22.6851 19.3385 22.8307 19.7896 22.6052L20.2243 22.3879C20.6694 22.1653 20.8831 21.6493 20.7257 21.1772L17 10L14 7Z'
                  fill='#FFFFFF'
                ></path>
                <path
                  d='M3.53173 14.6915L6 15L9 18L9.30853 20.4683C9.42133 21.3707 8.91113 22.2355 8.06676 22.5733L7.85432 22.6583C7.37143 22.8514 6.82109 22.6422 6.5885 22.177L5 19L1.82299 17.4115C1.35781 17.1789 1.14857 16.6286 1.34173 16.1457L1.4267 15.9332C1.76445 15.0889 2.62934 14.5787 3.53173 14.6915Z'
                  fill='#FFFFFF'
                ></path>
                <path
                  d='M5.68328 19.6584L9 18L13.4396 14.3003C14.4779 13.4351 15.4378 12.4801 16.3083 11.4463L21.8613 4.85219C22.5053 4.08741 22.457 2.95698 21.75 2.25C21.043 1.54302 19.9126 1.49466 19.1478 2.13868L12.5537 7.69166C11.5199 8.56219 10.5649 9.52214 9.69969 10.5604L6 15L4.34164 18.3167C3.91186 19.1763 4.82373 20.0881 5.68328 19.6584Z'
                  fill='#FFFFFF'
                ></path>
              </svg>
            }
          />
          <Item
            setChoose={setChoose}
            status='hotel'
            des='Khách sạn'
            color='#235d9f'
            children={
              <svg
                width='24'
                height='24'
                viewBox='0 0 24 24'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
                data-id='IcProductDuotoneHotelFill'
              >
                <path
                  d='M16 7V3C16 2.44772 16.4477 2 17 2C17.5523 2 18 2.44772 18 3V4H20V3C20 2.44772 20.4477 2 21 2C21.5523 2 22 2.44772 22 3V7C22 7.55228 21.5523 8 21 8C20.4477 8 20 7.55228 20 7V6H18V7C18 7.55228 17.5523 8 17 8C16.4477 8 16 7.55228 16 7Z'
                  fill='#FFFFFF'
                ></path>
                <path
                  fillRule='evenodd'
                  clipRule='evenodd'
                  d='M2 4V21C2 21.5523 2.44772 22 3 22H6.5V20.75C6.5 20.3358 6.16421 20 5.75 20C5.33579 20 5 19.6642 5 19.25V19C5 18.4477 5.44772 18 6 18H11C11.5523 18 12 18.4477 12 19V19.25C12 19.6642 11.6642 20 11.25 20C10.8358 20 10.5 20.3358 10.5 20.75V22H14H15H21C21.5523 22 22 21.5523 22 21V12C22 10.8954 21.1046 10 20 10H15V4C15 3.44772 14.5523 3 14 3H12.5C12.2061 1.82459 11.15 1 9.93845 1H7.06155C5.84996 1 4.79385 1.82459 4.5 3H3C2.44772 3 2 3.44771 2 4ZM4 6C4 5.44772 4.44772 5 5 5H7C7.55228 5 8 5.44772 8 6V7C8 7.55228 7.55228 8 7 8H5C4.44772 8 4 7.55228 4 7V6ZM10 5C9.44772 5 9 5.44772 9 6V7C9 7.55228 9.44772 8 10 8H12C12.5523 8 13 7.55228 13 7V6C13 5.44772 12.5523 5 12 5H10ZM9 10C9 9.44772 9.44772 9 10 9H12C12.5523 9 13 9.44771 13 10V11C13 11.5523 12.5523 12 12 12H10C9.44772 12 9 11.5523 9 11V10ZM4 10C4 9.44771 4.44772 9 5 9H7C7.55228 9 8 9.44772 8 10V11C8 11.5523 7.55228 12 7 12H5C4.44772 12 4 11.5523 4 11V10ZM5 13C4.44772 13 4 13.4477 4 14V15C4 15.5523 4.44772 16 5 16H7C7.55228 16 8 15.5523 8 15V14C8 13.4477 7.55228 13 7 13H5ZM10 13C9.44772 13 9 13.4477 9 14V15C9 15.5523 9.44772 16 10 16H12C12.5523 16 13 15.5523 13 15V14C13 13.4477 12.5523 13 12 13H10ZM16 14V13C16 12.4477 16.4477 12 17 12H19C19.5523 12 20 12.4477 20 13V14C20 14.5523 19.5523 15 19 15H17C16.4477 15 16 14.5523 16 14ZM19 16H17C16.4477 16 16 16.4477 16 17V18C16 18.5523 16.4477 19 17 19H19C19.5523 19 20 18.5523 20 18V17C20 16.4477 19.5523 16 19 16Z'
                  fill='#FFFFFF'
                ></path>
              </svg>
            }
          />
          <Item
            setChoose={setChoose}
            status='transportation'
            des='Dịch vụ vận chuyển'
            color='#f7f9fa'
            children={
              <svg
                width='24'
                height='24'
                viewBox='0 0 24 24'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
                data-id='IcProductDuotoneAirportTransportFill'
              >
                <path
                  fillRule='evenodd'
                  clipRule='evenodd'
                  d='M19.5 16.5L19 15H10V14H13H14H14.8371C15.1693 14 15.4092 13.682 15.3179 13.3626L15.1217 12.6758C15.088 12.5578 15.0474 12.4432 15.0006 12.3323L17 9H21C21.5523 9 22 8.55228 22 8C22 7.44772 21.5523 7 21 7H17L14 2H13L14 7H11L10 6H9L9.5 8H7V3C7 1.89543 7.89543 1 9 1H21C22.1046 1 23 1.89543 23 3V13C23 14.1046 22.1046 15 21 15L20.5 16.5L21 18V21.5C21 22.0523 20.5523 22.5 20 22.5C19.4477 22.5 19 22.0523 19 21.5V18L19.5 16.5ZM13.6313 10.8435L14 9H11L10 10V10.5H12.2371C12.7354 10.5 13.2112 10.6229 13.6313 10.8435Z'
                  fill='#6DD3CE'
                ></path>
                <path
                  fillRule='evenodd'
                  clipRule='evenodd'
                  d='M12.7913 9C13.1976 9 13.5921 9.06115 13.9649 9.17557L13.6313 10.8435C13.2112 10.6229 12.7354 10.5 12.2371 10.5H8.7629C7.42346 10.5 6.24631 11.3879 5.87833 12.6758L5.6821 13.3626C5.59084 13.682 5.83068 14 6.16286 14H13H14H14.8371C15.1693 14 15.4092 13.682 15.3179 13.3626L15.1217 12.6758C15.088 12.5578 15.0474 12.4432 15.0006 12.3323L16.0184 10.636C16.338 11.072 16.5729 11.5779 16.6961 12.1323L17 13.5L17.9207 13.1931C18.2531 13.0823 18.6164 13.2328 18.7731 13.5461C18.9086 13.8172 18.8555 14.1445 18.6412 14.3588L18 15C18.5523 15 19 15.4477 19 16V18.382C19 19.0672 18.6129 19.6936 18 20V21C18 21.8284 17.3284 22.5 16.5 22.5C15.6716 22.5 15 21.8284 15 21V20H6V21C6 21.8284 5.32843 22.5 4.5 22.5C3.67157 22.5 3 21.8284 3 21V20C2.38713 19.6936 2 19.0672 2 18.382V16C2 15.4477 2.44772 15 3 15L2.35881 14.3588C2.14453 14.1445 2.09141 13.8172 2.22693 13.5461C2.38362 13.2328 2.74689 13.0823 3.07927 13.1931L4 13.5L4.30394 12.1323C4.71064 10.3021 6.33389 9 8.20869 9H9.25L9 10H10L11 9H12.7913ZM5.5 18H7.5C8.05228 18 8.5 17.5523 8.5 17C8.5 16.4477 8.05228 16 7.5 16H5.5C4.94772 16 4.5 16.4477 4.5 17C4.5 17.5523 4.94772 18 5.5 18ZM15.5 18H13.5C12.9477 18 12.5 17.5523 12.5 17C12.5 16.4477 12.9477 16 13.5 16H15.5C16.0523 16 16.5 16.4477 16.5 17C16.5 17.5523 16.0523 18 15.5 18Z'
                  fill='#6DD3CE'
                ></path>
              </svg>
            }
          />
          <Item
            setChoose={setChoose}
            status='car'
            des='Cho thuê xe'
            color='#f7f9fa'
            children={
              <svg
                width='24'
                height='24'
                viewBox='0 0 24 24'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
                data-id='IcProductDuotoneCarsFill'
              >
                <path
                  fillRule='evenodd'
                  clipRule='evenodd'
                  d='M2.25 19.125V20.25C2.25 21.2855 3.08947 22.125 4.125 22.125C5.16053 22.125 6 21.2855 6 20.25V19.125H18V20.25C18 21.2855 18.8395 22.125 19.875 22.125C20.9105 22.125 21.75 21.2855 21.75 20.25V19.125C22.6693 18.6654 23.25 17.7258 23.25 16.6979V13.875C23.25 12.6324 22.2426 11.625 21 11.625L21.9388 10.6862C22.2739 10.3511 22.357 9.83904 22.145 9.41509C21.9142 8.95345 21.3937 8.71406 20.893 8.83924L20.25 9L19.9927 6.94184C19.7112 4.68991 17.7969 3 15.5275 3H8.47252C6.20307 3 4.28876 4.68991 4.00727 6.94184L3.75 9L3.10698 8.83924C2.60626 8.71406 2.08577 8.95345 1.85495 9.41509C1.64298 9.83904 1.72607 10.3511 2.06123 10.6862L3 11.625C1.75736 11.625 0.75 12.6324 0.75 13.875V16.6979C0.75 17.7258 1.3307 18.6654 2.25 19.125ZM17.9121 11.625H6.08795C5.64094 11.625 5.29317 11.2365 5.34254 10.7922L5.70348 7.54371C5.87229 6.02441 7.15648 4.875 8.68513 4.875H15.3149C16.8435 4.875 18.1277 6.02441 18.2965 7.5437L18.6575 10.7922C18.7068 11.2365 18.3591 11.625 17.9121 11.625ZM7.125 16.875H4.125C3.50368 16.875 3 16.3713 3 15.75C3 15.1287 3.50368 14.625 4.125 14.625H7.125C7.74632 14.625 8.25 15.1287 8.25 15.75C8.25 16.3713 7.74632 16.875 7.125 16.875ZM16.875 16.875H19.875C20.4963 16.875 21 16.3713 21 15.75C21 15.1287 20.4963 14.625 19.875 14.625H16.875C16.2537 14.625 15.75 15.1287 15.75 15.75C15.75 16.3713 16.2537 16.875 16.875 16.875Z'
                  fill='#087E8B'
                ></path>
              </svg>
            }
          />
          <Item
            setChoose={setChoose}
            status='location'
            des='Hoạt động vui chơi'
            color='#f7f9fa'
            children={
              <svg
                width='24'
                height='24'
                viewBox='0 0 24 24'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
                data-id='IcProductDuotoneBusFill'
              >
                <path
                  fillRule='evenodd'
                  clipRule='evenodd'
                  d='M3 9V11C3 11.5523 3.44772 12 4 12H5V8H4C3.44772 8 3 8.44772 3 9ZM21 11V9C21 8.44772 20.5523 8 20 8H19V12H20C20.5523 12 21 11.5523 21 11ZM8.5 20.75V20H15.5V20.75C15.5 21.7165 16.2835 22.5 17.25 22.5C18.2165 22.5 19 21.7165 19 20.75V19H5V20.75C5 21.7165 5.7835 22.5 6.75 22.5C7.7165 22.5 8.5 21.7165 8.5 20.75Z'
                  fill='#20BF55'
                ></path>
                <path
                  fillRule='evenodd'
                  clipRule='evenodd'
                  d='M16 2H8C5.79086 2 4 3.79086 4 6V18.75C4 19.3023 4.44772 19.75 5 19.75H19C19.5523 19.75 20 19.3023 20 18.75V6C20 3.79086 18.2091 2 16 2ZM8 5C7.44772 5 7 5.44772 7 6C7 6.55228 7.44772 7 8 7H16C16.5523 7 17 6.55228 17 6C17 5.44772 16.5523 5 16 5H8ZM6 9C6 8.44772 6.44772 8 7 8H17C17.5523 8 18 8.44772 18 9V13C18 13.5523 17.5523 14 17 14H7C6.44772 14 6 13.5523 6 13V9ZM6 17C6 16.4477 6.44772 16 7 16H9C9.55228 16 10 16.4477 10 17C10 17.5523 9.55228 18 9 18H7C6.44772 18 6 17.5523 6 17ZM14 17C14 16.4477 14.4477 16 15 16H17C17.5523 16 18 16.4477 18 17C18 17.5523 17.5523 18 17 18H15C14.4477 18 14 17.5523 14 17Z'
                  fill='#20BF55'
                ></path>
              </svg>
            }
          />
          <div className='flex flex-col' onClick={() => navigate('/retrieve')}>
            <div className={`p-2 bg-[#f7f9fa] inline-block rounded-full grow-0`}>
              <svg
                width='24'
                height='24'
                viewBox='0 0 24 24'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
                data-id='IcProductDuotoneGiftVoucherFill'
              >
                <path
                  fillRule='evenodd'
                  clipRule='evenodd'
                  d='M13 19.5H5C3.72684 19.5 2.61245 18.8202 2 17.8038V18.5C2 20.433 3.567 22 5.5 22H18.5C20.433 22 22 20.433 22 18.5V17.8038C21.3876 18.8202 20.2732 19.5 19 19.5H15V22H13V19.5Z'
                  fill='#EC3A3E'
                ></path>
                <path
                  fillRule='evenodd'
                  clipRule='evenodd'
                  d='M5.5 2C3.567 2 2 3.567 2 5.5V10H9.3442C9.12385 9.60826 9 9.15813 9 8.68466V8.54508C9 7.13947 10.1395 6 11.5451 6C12.0755 6 12.5809 6.16489 13 6.45685V2H5.5ZM18.6558 10C18.8762 9.60826 19 9.15813 19 8.68466V8.54508C19 7.13947 17.8605 6 16.4549 6C15.9245 6 15.4191 6.16489 15 6.45685V2H18.5C20.433 2 22 3.567 22 5.5V10H18.6558ZM15 13.135L16.3598 14.2682C16.7841 14.6218 17.4147 14.5645 17.7682 14.1402C18.1218 13.7159 18.0645 13.0853 17.6402 12.7318L16.762 12H22V15C22 16.6569 20.6569 18 19 18H15V13.135ZM11.2379 12L10.3598 12.7318C9.93554 13.0853 9.87821 13.7159 10.2318 14.1402C10.5853 14.5645 11.2159 14.6218 11.6402 14.2682L13 13.135V18H5C3.34315 18 2 16.6569 2 15V12H11.2379ZM11 8.54508C11 8.24404 11.244 8 11.5451 8C11.7515 8 11.9403 8.11665 12.0326 8.30132L12.7047 9.64539L11.5186 9.34887C11.2138 9.27268 11 8.99883 11 8.68466V8.54508ZM16.4814 9.34888L15.2953 9.64539L15.9674 8.30132C16.0597 8.11665 16.2485 8 16.4549 8C16.756 8 17 8.24404 17 8.54508V8.68466C17 8.99883 16.7862 9.27268 16.4814 9.34888Z'
                  fill='#EC3A3E'
                ></path>
              </svg>
            </div>
            <p className='text-[#031246] text-xs font-semibold'>Đặt vé của tôi</p>
          </div>
          <div className='flex flex-col' onClick={() => navigate('/review')}>
            <div className={`p-2 bg-[#f7f9fa] inline-block rounded-full grow-0`}>
              <svg
                width='24'
                height='24'
                viewBox='0 0 24 24'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
                data-id='IcXperienceDuotoneAttractionsFill'
              >
                <path
                  fillRule='evenodd'
                  clipRule='evenodd'
                  d='M9.5 1H14.5V2.35177C16.1452 2.8265 17.5967 3.75797 18.7083 5H22V7C22 7.84187 21.4798 8.56226 20.7434 8.85729C20.9111 9.54401 21 10.2616 21 11C21 11.6874 20.9229 12.3568 20.777 13H22V15C22 16.1046 21.1046 17 20 17H19C18.9067 17 18.8149 16.9936 18.725 16.9813C18.0376 17.7536 17.2192 18.4067 16.3046 18.9058C16.3494 18.9666 16.3881 19.0336 16.4191 19.1061L17.6594 22H19C19.5523 22 20 22.4477 20 23C20 23.5523 19.5523 24 19 24H17H7H5C4.44772 24 4 23.5523 4 23C4 22.4477 4.44772 22 5 22H6.3406L7.58085 19.1061C7.61193 19.0336 7.65056 18.9666 7.69543 18.9058C6.78082 18.4067 5.96236 17.7536 5.27495 16.9813C5.18507 16.9936 5.09328 17 5 17H4C2.89543 17 2 16.1046 2 15V13H3.22302C3.07706 12.3568 3 11.6874 3 11C3 10.2616 3.08892 9.54401 3.25663 8.85729C2.52016 8.56226 2 7.84187 2 7V5H5.29168C6.40332 3.75797 7.85482 2.8265 9.5 2.35177V1ZM9.48964 19.6452C9.4773 19.729 9.45405 19.8125 9.41915 19.8939L8.51654 22H15.4835L14.5809 19.8939C14.5459 19.8125 14.5227 19.729 14.5104 19.6452C14.4673 19.6577 14.4241 19.6699 14.3808 19.6817C14.102 20.4506 13.3652 21 12.5 21H11.5C10.6348 21 9.89796 20.4506 9.6192 19.6817C9.57588 19.6699 9.5327 19.6577 9.48964 19.6452ZM9.97726 4.29669C8.83416 4.64115 7.81432 5.27001 7 6.10102V7C7 8.00385 6.26042 8.83497 5.29641 8.97819C5.10362 9.6183 5 10.297 5 11C5 11.695 5.10128 12.3663 5.28988 13H7V15C7 15.2642 6.94877 15.5164 6.85571 15.7473C7.58082 16.5326 8.4835 17.1516 9.5 17.5404V17H14.5V17.5404C15.5165 17.1516 16.4192 16.5326 17.1443 15.7473C17.0512 15.5164 17 15.2642 17 15V13H18.7101C18.8987 12.3663 19 11.695 19 11C19 10.297 18.8964 9.6183 18.7036 8.97819C17.7396 8.83497 17 8.00385 17 7V6.10102C16.1857 5.27001 15.1658 4.64115 14.0227 4.29669C13.6559 4.72707 13.1098 5 12.5 5H11.5C10.8902 5 10.3441 4.72707 9.97726 4.29669ZM15 11C15 12.6569 13.6569 14 12 14C10.3431 14 9 12.6569 9 11C9 9.34315 10.3431 8 12 8C13.6569 8 15 9.34315 15 11Z'
                  fill='#FF6D6A'
                ></path>
              </svg>
            </div>
            <p className='text-[#031246] text-xs font-semibold'>Cộng đồng review</p>
          </div>
        </div>
      )}
      <div className='sm:hidden'>
        <div className='bg-[#1ba0e2] rounded-b-lg'>
          {choose !== '' && (
            <div className='flex justify-center  items-center relative'>
              <img
                onClick={() => setChoose('')}
                src={logo2}
                alt='logo-img'
                className='w-[115px] h-[40px] object-center object-cover mt-1'
              />
              <div className='absolute right-0 pr-4'>
                <svg
                  width='24'
                  height='24'
                  viewBox='0 0 24 24'
                  fill='none'
                  xmlns='http://www.w3.org/2000/svg'
                  data-id='IcUserAccount'
                >
                  <path
                    d='M8 7.5C8 9.70914 9.79086 11.5 12 11.5C14.2091 11.5 16 9.70914 16 7.5V6.5C16 4.29086 14.2091 2.5 12 2.5C9.79086 2.5 8 4.29086 8 6.5V7.5Z'
                    stroke='#FFFFFF'
                    strokeWidth='2'
                    strokeLinecap='round'
                    strokeLinejoin='round'
                  ></path>
                  <path
                    d='M19.5 21H4.5C4.5 21 5 14 12 14C19 14 19.5 21 19.5 21Z'
                    stroke='#FFFFFF'
                    strokeWidth='2'
                    strokeLinecap='round'
                    strokeLinejoin='round'
                  ></path>
                </svg>
              </div>
            </div>
          )}
          {choose === 'plane' && <Plane />}
          {choose === 'hotel' && <Hotel />}
          {choose === 'transportation' && <Transportation />}
          {choose === 'car' && <Car />}
          {choose === 'location' && <Location />}
        </div>
      </div>
    </>
  )
}

export default HeaderMobile
